# MatrixLabs Wallet - é¡¹ç›®æŠ€èƒ½æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ

**é¡¹ç›®åç§°**: MatrixLabs Wallet  
**ç‰ˆæœ¬**: 1.0.0  
**ç±»å‹**: æµè§ˆå™¨æ‰©å±•æ’ä»¶ (Chrome Extension)  
**å®šä½**: ä¸‹ä¸€ä»£ Web3 é’±åŒ… - å®‰å…¨ã€ç®€æ´ã€å¼ºå¤§  
**è®¸å¯è¯**: MIT

MatrixLabs Wallet æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ä»¥å¤ªåŠåŠ EVM å…¼å®¹é“¾é’±åŒ…æµè§ˆå™¨æ’ä»¶ï¼Œæ”¯æŒå¤šé“¾ã€DeFiã€äº¤æ˜“å†å²ã€å®‰å…¨é˜²æŠ¤ç­‰ä¼ä¸šçº§ç‰¹æ€§ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–æŠ€æœ¯æ ˆï¼Œå®ç°äº† MetaMask å…¼å®¹çš„ Web3 Providerï¼Œå¹¶åˆ›æ–°æ€§åœ°é›†æˆäº†åŸºäºå¤šæ™ºèƒ½ä½“æ¶æ„çš„ StableGuard ç¨³å®šå¸é£é™©æ§åˆ¶ç³»ç»Ÿã€‚

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

### 1. é’±åŒ…ç®¡ç†
- **åˆ›å»ºé’±åŒ…**: ç”Ÿæˆ 12 è¯åŠ©è®°è¯ï¼ŒåŸºäº BIP39 æ ‡å‡†
- **å¯¼å…¥é’±åŒ…**: æ”¯æŒåŠ©è®°è¯å¯¼å…¥
- **å¤šè´¦æˆ·**: HD é’±åŒ…æ´¾ç”Ÿï¼Œæ”¯æŒæ— é™è´¦æˆ·
- **è´¦æˆ·ç®¡ç†**: è´¦æˆ·åˆ‡æ¢ã€é‡å‘½åã€åœ°å€å¤åˆ¶
- **å®‰å…¨å­˜å‚¨**: AES-GCM 256 ä½åŠ å¯† + PBKDF2 å¯†é’¥æ´¾ç”Ÿï¼ˆ100,000 æ¬¡è¿­ä»£ï¼‰

### 2. å¤šé“¾æ”¯æŒ
æ”¯æŒ 12+ æ¡ EVM å…¼å®¹é“¾ï¼š
- Ethereum Mainnet (ChainID: 1)
- Sepolia Testnet (ChainID: 11155111)
- Polygon (ChainID: 137)
- BSC (ChainID: 56)
- Arbitrum (ChainID: 42161)
- Optimism (ChainID: 10)
- Base (ChainID: 8453)
- Avalanche C-Chain (ChainID: 43114)
- Linea (ChainID: 59144)
- zkSync Era (ChainID: 324)
- Hardhat Local (ChainID: 31337)
- è‡ªå®šä¹‰ RPC ç½‘ç»œ

### 3. äº¤æ˜“åŠŸèƒ½
- **å‘é€äº¤æ˜“**: æ”¯æŒåŸç”Ÿä»£å¸å’Œ ERC-20 ä»£å¸è½¬è´¦
- **æ¥æ”¶èµ„äº§**: åœ°å€å±•ç¤ºã€äºŒç»´ç ç”Ÿæˆ
- **Gas ä¼°ç®—**: æ™ºèƒ½ Gas è´¹è®¡ç®—
- **äº¤æ˜“å†å²**: å®Œæ•´è®°å½•ï¼Œæ”¯æŒç­›é€‰å’ŒçŠ¶æ€è¿½è¸ª
- **äº¤æ˜“ç¡®è®¤**: è¯¦ç»†ä¿¡æ¯å±•ç¤ºï¼Œç”¨æˆ·äºŒæ¬¡ç¡®è®¤

### 4. DeFi é›†æˆ

#### ä»£å¸å…‘æ¢ (Swap)
- é›†æˆ Uniswap V2 åè®®
- æ”¯æŒå¤šé“¾ DEXï¼ˆPancakeSwapã€QuickSwapã€SushiSwap ç­‰ï¼‰
- å®æ—¶ä»·æ ¼æŸ¥è¯¢å’Œæ»‘ç‚¹ä¿æŠ¤
- è‡ªåŠ¨ä»£å¸æˆæƒç®¡ç†

#### è·¨é“¾æ¡¥æ¥ (Bridge)
é›†æˆä¸»æµè·¨é“¾æ¡¥ï¼š
- Stargate Finance
- Across Protocol
- Hop Protocol
- cBridge
- Synapse Protocol

#### DeFi è´¨æŠ¼ (Staking)
é›†æˆä¸»æµ DeFi åè®®ï¼š
- Lido (ETH è´¨æŠ¼)
- Rocket Pool
- Aave (å€Ÿè´·)
- Compound
- Curve Finance
- Yearn Finance

### 5. StableGuard å®‰å…¨é˜²æŠ¤ç³»ç»Ÿ

**åˆ›æ–°çš„å¤šæ™ºèƒ½ä½“ç¨³å®šå¸é£é™©æ§åˆ¶ç³»ç»Ÿ**

#### äº”æ™ºèƒ½ä½“æ¶æ„

1. **æ•°æ®æ„ŸçŸ¥æ™ºèƒ½ä½“ (DataAgent)**
   - å¤šæºæ•°æ®é‡‡é›†ï¼šCoinGecko API ä»·æ ¼æ•°æ®
   - æ•°æ®æ ‡å‡†åŒ–å’Œè´¨é‡è¯„ä¼°
   - ç¼“å­˜æœºåˆ¶ï¼ˆ1 åˆ†é’Ÿ TTLï¼‰

2. **ç‰¹å¾å·¥ç¨‹æ™ºèƒ½ä½“ (FeatureAgent)**
   - ä»·æ ¼åç¦»åº¦è®¡ç®—
   - æ³¢åŠ¨ç‡åˆ†æ
   - æµåŠ¨æ€§æ¯”ç‡è¯„ä¼°
   - èµå›å‹åŠ›ç›‘æµ‹
   - åŠ¨æ€é˜ˆå€¼ç®—æ³•

3. **é£é™©ç ”åˆ¤æ™ºèƒ½ä½“ (RiskAgent)**
   - é£é™©è¯„åˆ†ï¼ˆ0-100ï¼‰
   - é£é™©åˆ†çº§ï¼ˆA-E äº”çº§ï¼‰
   - ä¸»è¦å’Œæ¬¡è¦é£é™©å› å­è¯†åˆ«
   - å®Œæ•´è¯æ®é“¾

4. **ç­–ç•¥ç”Ÿæˆæ™ºèƒ½ä½“ (StrategyAgent)**
   - ä¿¡æ¯ç­–ç•¥ï¼šçŠ¶æ€æ˜¾ç¤ºã€è­¦å‘Šæç¤º
   - æ§åˆ¶ç­–ç•¥ï¼šäºŒæ¬¡ç¡®è®¤ã€é™é¢å»ºè®®ã€äº¤æ˜“é˜»æ­¢
   - UI å»ºè®®ï¼šé¢œè‰²ã€å›¾æ ‡ã€æç¤ºæ–‡æ¡ˆ
   - ç”¨æˆ·æ¨¡å¼ï¼šNone/Warn/Block

5. **éªŒè¯ä¸æ‰§è¡Œæ™ºèƒ½ä½“ (ExecutionAgent)**
   - äº¤æ˜“è¯„ä¼°å’Œç­–ç•¥æ‰§è¡Œ
   - æœ¬åœ°å­˜è¯ï¼ˆChrome Storageï¼‰
   - äº‹ä»¶å†å²ç®¡ç†ï¼ˆæœ€è¿‘ 50 æ¡ï¼‰

#### é£é™©ç­‰çº§
- **A çº§ï¼ˆæä½é£é™©ï¼‰**: 0-20 åˆ†ï¼Œæ­£å¸¸æ“ä½œ
- **B çº§ï¼ˆä½é£é™©ï¼‰**: 20-40 åˆ†ï¼Œæ­£å¸¸æ“ä½œ
- **C çº§ï¼ˆä¸­ç­‰é£é™©ï¼‰**: 40-60 åˆ†ï¼Œè°¨æ…æ“ä½œï¼ŒäºŒæ¬¡ç¡®è®¤
- **D çº§ï¼ˆé«˜é£é™©ï¼‰**: 60-80 åˆ†ï¼Œå»ºè®®æš‚ç¼“å¤§é¢æ“ä½œ
- **E çº§ï¼ˆæé«˜é£é™©ï¼‰**: 80-100 åˆ†ï¼Œå¼ºçƒˆå»ºè®®æš‚åœæ“ä½œ

#### ç›‘æ§çš„ç¨³å®šå¸
- USDT (Tether USD)
- USDC (USD Coin)
- DAI (Dai Stablecoin)
- BUSD (Binance USD)
- FRAX (Frax)

### 6. dApp é›†æˆ
- **MetaMask å…¼å®¹ API**: å®Œæ•´çš„ EIP-1193 æ ‡å‡†æ”¯æŒ
- **è¿æ¥ç®¡ç†**: ç½‘ç«™è¿æ¥è¯·æ±‚ã€æƒé™ç®¡ç†
- **æ¶ˆæ¯ç­¾å**: personal_signã€signTypedData_v4
- **äº¤æ˜“ç¡®è®¤**: å¼¹çª—ç¡®è®¤ã€è¯¦ç»†ä¿¡æ¯å±•ç¤º
- **äº‹ä»¶é€šçŸ¥**: è´¦æˆ·åˆ‡æ¢ã€ç½‘ç»œåˆ‡æ¢äº‹ä»¶

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **React 18.3.1**: UI ç»„ä»¶åº“
- **TypeScript 5.5.3**: ç±»å‹å®‰å…¨
- **Vite 5.4.21**: å¿«é€Ÿæ„å»ºå·¥å…·
- **TailwindCSS 3.4.1**: åŸå­åŒ– CSS æ¡†æ¶

### çŠ¶æ€ç®¡ç†
- **Zustand 4.5.0**: è½»é‡çº§çŠ¶æ€ç®¡ç†åº“

### åŒºå—é“¾äº¤äº’
- **ethers.js 6.13.0**: Web3 äº¤äº’æ ¸å¿ƒåº“
- **bip39 3.1.0**: åŠ©è®°è¯ç”Ÿæˆå’ŒéªŒè¯

### åŠ å¯†å®‰å…¨
- **Web Crypto API**: æµè§ˆå™¨åŸç”ŸåŠ å¯† API
- **AES-GCM 256**: æ•°æ®åŠ å¯†ç®—æ³•
- **PBKDF2**: å¯†é’¥æ´¾ç”Ÿå‡½æ•°

### UI ç»„ä»¶
- **lucide-react 0.344.0**: ç°ä»£å›¾æ ‡åº“
- **qrcode 1.5.4**: äºŒç»´ç ç”Ÿæˆ
- **framer-motion 10.16.16**: åŠ¨ç”»åº“

### å¼€å‘å·¥å…·
- **Chrome Extension Manifest V3**: æ‰©å±•æ’ä»¶æ ‡å‡†
- **PostCSS 8.4.32**: CSS å¤„ç†å·¥å…·
- **Autoprefixer 10.4.16**: CSS è‡ªåŠ¨å‰ç¼€

---

## ğŸ“ é¡¹ç›®æ¶æ„

### ç›®å½•ç»“æ„

```
matrixlabs-wallet/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ popup/                      # å¼¹çª— UI
â”‚   â”‚   â”œâ”€â”€ pages/                  # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Welcome.tsx         # æ¬¢è¿é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ CreateWallet.tsx    # åˆ›å»ºé’±åŒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ ImportWallet.tsx    # å¯¼å…¥é’±åŒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ Unlock.tsx          # è§£é”é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.tsx            # ä¸»é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Send.tsx            # å‘é€äº¤æ˜“
â”‚   â”‚   â”‚   â”œâ”€â”€ Receive.tsx         # æ¥æ”¶èµ„äº§
â”‚   â”‚   â”‚   â”œâ”€â”€ Swap.tsx            # ä»£å¸å…‘æ¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Bridge.tsx          # è·¨é“¾æ¡¥æ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ Staking.tsx         # DeFi è´¨æŠ¼
â”‚   â”‚   â”‚   â”œâ”€â”€ History.tsx         # äº¤æ˜“å†å²
â”‚   â”‚   â”‚   â”œâ”€â”€ Settings.tsx        # è®¾ç½®é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ NetworkSettings.tsx # ç½‘ç»œè®¾ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ ConnectRequest.tsx  # è¿æ¥è¯·æ±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ SignMessage.tsx     # ç­¾åè¯·æ±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ SendTransaction.tsx # äº¤æ˜“ç¡®è®¤
â”‚   â”‚   â”‚   â”œâ”€â”€ StableGuardDashboard.tsx  # å®‰å…¨ä»ªè¡¨æ¿
â”‚   â”‚   â”‚   â””â”€â”€ StableGuardSettings.tsx   # å®‰å…¨è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ components/             # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ PriceChart.tsx      # ä»·æ ¼å›¾è¡¨
â”‚   â”‚   â”œâ”€â”€ App.tsx                 # ä¸»åº”ç”¨
â”‚   â”‚   â””â”€â”€ main.tsx                # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ components/                 # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Button.tsx              # æŒ‰é’®ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Input.tsx               # è¾“å…¥æ¡†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Card.tsx                # å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Modal.tsx               # æ¨¡æ€æ¡†ç»„ä»¶
â”‚   â”œâ”€â”€ lib/                        # æ ¸å¿ƒåº“
â”‚   â”‚   â”œâ”€â”€ crypto.ts               # åŠ å¯†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ wallet.ts               # é’±åŒ…æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ storage.ts              # å­˜å‚¨æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ provider.ts             # RPC æä¾›è€…
â”‚   â”‚   â”œâ”€â”€ rpc.ts                  # RPC ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ tokens.ts               # ä»£å¸é…ç½®
â”‚   â”‚   â”œâ”€â”€ tokenService.ts         # ä»£å¸æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ swapService.ts          # å…‘æ¢æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ bridgeConfig.ts         # æ¡¥æ¥é…ç½®
â”‚   â”‚   â”œâ”€â”€ stakingConfig.ts        # è´¨æŠ¼é…ç½®
â”‚   â”‚   â”œâ”€â”€ historyService.ts       # å†å²æœåŠ¡
â”‚   â”‚   â””â”€â”€ stableguard/            # StableGuard ç³»ç»Ÿ
â”‚   â”‚       â”œâ”€â”€ index.ts            # ä¸»å…¥å£
â”‚   â”‚       â”œâ”€â”€ types.ts            # ç±»å‹å®šä¹‰
â”‚   â”‚       â”œâ”€â”€ config.ts           # é…ç½®æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ dataAgent.ts        # æ•°æ®æ„ŸçŸ¥æ™ºèƒ½ä½“
â”‚   â”‚       â”œâ”€â”€ featureAgent.ts     # ç‰¹å¾å·¥ç¨‹æ™ºèƒ½ä½“
â”‚   â”‚       â”œâ”€â”€ riskAgent.ts        # é£é™©ç ”åˆ¤æ™ºèƒ½ä½“
â”‚   â”‚       â”œâ”€â”€ strategyAgent.ts    # ç­–ç•¥ç”Ÿæˆæ™ºèƒ½ä½“
â”‚   â”‚       â””â”€â”€ executionAgent.ts   # éªŒè¯æ‰§è¡Œæ™ºèƒ½ä½“
â”‚   â”œâ”€â”€ store/                      # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ wallet.ts               # é’±åŒ…çŠ¶æ€
â”‚   â”œâ”€â”€ background/                 # åå°è„šæœ¬
â”‚   â”‚   â””â”€â”€ index.ts                # åå°æœåŠ¡
â”‚   â”œâ”€â”€ content/                    # å†…å®¹è„šæœ¬
â”‚   â”‚   â””â”€â”€ index.ts                # å†…å®¹æ³¨å…¥
â”‚   â””â”€â”€ inpage/                     # é¡µé¢æ³¨å…¥
â”‚       â””â”€â”€ index.ts                # Provider æ³¨å…¥
â”œâ”€â”€ public/
â”‚   â””â”€â”€ icons/                      # å›¾æ ‡èµ„æº
â”œâ”€â”€ manifest.json                   # æ’ä»¶é…ç½®
â”œâ”€â”€ package.json                    # ä¾èµ–é…ç½®
â”œâ”€â”€ vite.config.ts                  # Vite é…ç½®
â”œâ”€â”€ tailwind.config.js              # Tailwind é…ç½®
â””â”€â”€ tsconfig.json                   # TypeScript é…ç½®
```


### æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### 1. Popup UI (`src/popup/`)
ç”¨æˆ·ç•Œé¢å±‚ï¼ŒåŒ…å«æ‰€æœ‰é¡µé¢ç»„ä»¶å’Œäº¤äº’é€»è¾‘ã€‚

**ä¸»è¦é¡µé¢**:
- **Welcome**: é¦–æ¬¡ä½¿ç”¨å¼•å¯¼
- **CreateWallet/ImportWallet**: é’±åŒ…åˆ›å»ºå’Œå¯¼å…¥æµç¨‹
- **Unlock**: å¯†ç è§£é”ç•Œé¢
- **Home**: ä¸»é¡µï¼Œæ˜¾ç¤ºèµ„äº§ã€ä½™é¢ã€å¿«é€Ÿæ“ä½œ
- **Send/Receive**: è½¬è´¦å’Œæ”¶æ¬¾åŠŸèƒ½
- **Swap**: ä»£å¸å…‘æ¢ç•Œé¢
- **Bridge**: è·¨é“¾æ¡¥æ¥å…¥å£
- **Staking**: DeFi è´¨æŠ¼å…¥å£
- **History**: äº¤æ˜“å†å²è®°å½•
- **Settings**: é’±åŒ…è®¾ç½®
- **StableGuardDashboard**: å®‰å…¨é˜²æŠ¤ä»ªè¡¨æ¿

#### 2. æ ¸å¿ƒæœåŠ¡åº“ (`src/lib/`)

##### CryptoService (`crypto.ts`)
åŠ å¯†æœåŠ¡ï¼Œè´Ÿè´£æ‰€æœ‰åŠ å¯†æ“ä½œã€‚

**æ ¸å¿ƒæ–¹æ³•**:
```typescript
class CryptoService {
  // ç”ŸæˆåŠ©è®°è¯
  static generateMnemonic(): string
  
  // éªŒè¯åŠ©è®°è¯
  static validateMnemonic(mnemonic: string): boolean
  
  // æ´¾ç”Ÿé’±åŒ…
  static async deriveWallet(mnemonic: string, index: number): Promise<HDNodeWallet>
  
  // åŠ å¯†æ•°æ®
  static async encrypt(data: string, password: string): Promise<string>
  
  // è§£å¯†æ•°æ®
  static async decrypt(encryptedData: string, password: string): Promise<string>
  
  // å¯†ç å“ˆå¸Œ
  static async hashPassword(password: string): Promise<string>
}
```

**åŠ å¯†ç®—æ³•**:

- **AES-GCM 256**: å¯¹ç§°åŠ å¯†ç®—æ³•
- **PBKDF2**: å¯†é’¥æ´¾ç”Ÿï¼Œ100,000 æ¬¡è¿­ä»£
- **SHA-256**: å¯†ç å“ˆå¸Œ

##### WalletService (`wallet.ts`)
é’±åŒ…æ ¸å¿ƒæœåŠ¡ï¼Œç®¡ç†é’±åŒ…ç”Ÿå‘½å‘¨æœŸã€‚

**æ ¸å¿ƒæ–¹æ³•**:
```typescript
class WalletService {
  // åˆ›å»ºæ–°é’±åŒ…
  static async createWallet(password: string): Promise<string>
  
  // å¯¼å…¥é’±åŒ…
  static async importWallet(mnemonic: string, password: string): Promise<void>
  
  // è§£é”é’±åŒ…
  static async unlockWallet(password: string): Promise<boolean>
  
  // é”å®šé’±åŒ…
  static lockWallet(): void
  
  // æ£€æŸ¥æ˜¯å¦è§£é”
  static isUnlocked(): boolean
  
  // è·å–å½“å‰è´¦æˆ·
  static getCurrentAccount(): Account | null
  
  // è·å–æ‰€æœ‰è´¦æˆ·
  static getAllAccounts(): Account[]
  
  // æ·»åŠ è´¦æˆ·
  static async addAccount(password: string, name?: string): Promise<Account>
  
  // åˆ‡æ¢è´¦æˆ·
  static async switchAccount(index: number): Promise<void>
  
  // ç­¾åæ¶ˆæ¯
  static async signMessage(message: string): Promise<string>
  
  // ç­¾åäº¤æ˜“
  static async signTransaction(tx: TransactionRequest): Promise<string>
  
  // è·å–ç§é’¥
  static getPrivateKey(): string
  
  // è·å–åŠ©è®°è¯
  static getMnemonic(): string | null
}
```

**æ•°æ®ç»“æ„**:

```typescript
interface Account {
  address: string;
  name: string;
  index: number;
}

interface VaultData {
  mnemonic: string;
  accounts: Account[];
}
```

##### StorageService (`storage.ts`)
å­˜å‚¨æœåŠ¡ï¼Œå°è£… Chrome Storage APIã€‚

**æ ¸å¿ƒæ–¹æ³•**:
```typescript
class StorageService {
  // è·å–å•ä¸ªå€¼
  static async get<K>(key: K): Promise<StorageData[K] | undefined>
  
  // è·å–å¤šä¸ªå€¼
  static async getMultiple<K>(keys: K[]): Promise<Partial<StorageData>>
  
  // è®¾ç½®å•ä¸ªå€¼
  static async set<K>(key: K, value: StorageData[K]): Promise<void>
  
  // è®¾ç½®å¤šä¸ªå€¼
  static async setMultiple(data: Partial<StorageData>): Promise<void>
  
  // åˆ é™¤å€¼
  static async remove(key: keyof StorageData): Promise<void>
  
  // æ¸…ç©ºå­˜å‚¨
  static async clear(): Promise<void>
  
  // æ£€æŸ¥æ˜¯å¦å·²åˆå§‹åŒ–
  static async isInitialized(): Promise<boolean>
}
```

**å­˜å‚¨æ•°æ®ç»“æ„**:
```typescript
interface StorageData {
  encryptedVault?: string;           // åŠ å¯†çš„é’±åŒ…æ•°æ®
  passwordHash?: string;             // å¯†ç å“ˆå¸Œ
  currentNetwork?: string;           // å½“å‰ç½‘ç»œ
  networks?: Network[];              // ç½‘ç»œåˆ—è¡¨
  settings?: WalletSettings;         // é’±åŒ…è®¾ç½®
  stableguard_config?: any;          // StableGuard é…ç½®
  stableguard_enabled?: boolean;     // StableGuard å¯ç”¨çŠ¶æ€
}
```

##### ProviderService (`provider.ts`)
RPC æä¾›è€…æœåŠ¡ï¼Œç®¡ç†åŒºå—é“¾è¿æ¥ã€‚

**æ ¸å¿ƒæ–¹æ³•**:
```typescript
class ProviderService {
  // è·å– Provider
  static getProvider(network: Network): JsonRpcProvider
  
  // è·å–ä½™é¢
  static async getBalance(address: string, network: Network): Promise<string>
  
  // è·å–äº¤æ˜“è®¡æ•°ï¼ˆnonceï¼‰
  static async getTransactionCount(address: string, network: Network): Promise<number>
  
  // ä¼°ç®— Gas
  static async estimateGas(tx: TransactionRequest, network: Network): Promise<bigint>
  
  // è·å– Gas ä»·æ ¼
  static async getGasPrice(network: Network): Promise<bigint>
  
  // è·å–è´¹ç”¨æ•°æ®ï¼ˆEIP-1559ï¼‰
  static async getFeeData(network: Network): Promise<FeeData>
  
  // å‘é€äº¤æ˜“
  static async sendTransaction(signedTx: string, network: Network): Promise<TransactionResponse>
  
  // è·å–äº¤æ˜“å›æ‰§
  static async getTransactionReceipt(txHash: string, network: Network): Promise<TransactionReceipt | null>
  
  // è·å– ERC20 ä»£å¸ä½™é¢
  static async getTokenBalance(tokenAddress: string, walletAddress: string, network: Network): Promise<string>
  
  // è·å– ERC20 ä»£å¸ä¿¡æ¯
  static async getTokenInfo(tokenAddress: string, network: Network): Promise<TokenInfo>
}
```

##### TokenService (`tokenService.ts`)
ä»£å¸æœåŠ¡ï¼Œç®¡ç† ERC-20 ä»£å¸ã€‚

**æ ¸å¿ƒæ–¹æ³•**:
```typescript
class TokenService {
  // è·å–ä»£å¸ä½™é¢åˆ—è¡¨
  static async getTokenBalances(address: string, network: Network): Promise<TokenBalance[]>
  
  // è·å–å•ä¸ªä»£å¸ä½™é¢
  static async getTokenBalance(token: Token, address: string, network: Network): Promise<string>
  
  // å‘é€ä»£å¸
  static async sendToken(params: SendTokenParams, network: Network, privateKey: string): Promise<string>
  
  // ä¼°ç®—ä»£å¸è½¬è´¦ Gas
  static async estimateTokenTransferGas(params: SendTokenParams, network: Network): Promise<bigint>
}
```

##### SwapService (`swapService.ts`)
ä»£å¸å…‘æ¢æœåŠ¡ï¼Œé›†æˆ Uniswap V2ã€‚

**æ ¸å¿ƒæ–¹æ³•**:
```typescript

class SwapService {
  // è·å–å…‘æ¢æŠ¥ä»·
  static async getQuote(
    tokenIn: Token,
    tokenOut: Token,
    amountIn: string,
    network: Network,
    slippageTolerance?: number
  ): Promise<SwapQuote>
  
  // æ‰§è¡Œå…‘æ¢
  static async executeSwap(
    params: SwapParams,
    network: Network,
    privateKey: string
  ): Promise<string>
  
  // æ£€æŸ¥å¹¶æˆæƒä»£å¸
  static async checkAndApprove(
    token: Token,
    amount: string,
    network: Network,
    privateKey: string
  ): Promise<string | null>
  
  // æ£€æŸ¥æ˜¯å¦æ”¯æŒ Swap
  static isSwapSupported(chainId: number): boolean
}
```

**æ”¯æŒçš„ DEX**:
- Ethereum: Uniswap V2
- BSC: PancakeSwap
- Polygon: QuickSwap
- Arbitrum: SushiSwap
- Optimism: Velodrome
- Base: BaseSwap

##### HistoryService (`historyService.ts`)
äº¤æ˜“å†å²æœåŠ¡ï¼Œè®°å½•å’Œç®¡ç†äº¤æ˜“ã€‚

**æ ¸å¿ƒæ–¹æ³•**:
```typescript
class HistoryService {
  // ä¿å­˜äº¤æ˜“è®°å½•
  static async saveTransaction(record: TransactionRecord): Promise<void>
  
  // è·å–æ‰€æœ‰å†å²
  static async getHistory(): Promise<TransactionRecord[]>
  
  // æŒ‰åœ°å€ç­›é€‰
  static async getHistoryByAddress(address: string): Promise<TransactionRecord[]>
  
  // æŒ‰é“¾ç­›é€‰
  static async getHistoryByChain(chainId: number): Promise<TransactionRecord[]>
  
  // æŒ‰ç±»å‹ç­›é€‰
  static async getHistoryByType(type: TransactionType): Promise<TransactionRecord[]>
  
  // æŒ‰çŠ¶æ€ç­›é€‰
  static async getHistoryByStatus(status: TransactionStatus): Promise<TransactionRecord[]>
  
  // æ›´æ–°äº¤æ˜“çŠ¶æ€
  static async updateTransactionStatus(
    hash: string,
    status: TransactionStatus,
    updates?: Partial<TransactionRecord>
  ): Promise<void>
  
  // ä»åŒºå—é“¾æ›´æ–°äº¤æ˜“
  static async fetchAndUpdateTransaction(hash: string, provider: any): Promise<void>
  
  // åˆ é™¤äº¤æ˜“
  static async deleteTransaction(hash: string): Promise<void>
  
  // æ¸…ç©ºå†å²
  static async clearHistory(): Promise<void>
  
  // åˆ›å»ºäº¤æ˜“è®°å½•
  static createRecord(params: CreateRecordParams): TransactionRecord
}
```

**äº¤æ˜“ç±»å‹**:
```typescript
enum TransactionType {
  SEND = 'send',
  RECEIVE = 'receive',
  SWAP = 'swap',
  APPROVE = 'approve',
  CONTRACT = 'contract',
}

enum TransactionStatus {
  PENDING = 'pending',
  CONFIRMED = 'confirmed',
  FAILED = 'failed',
}
```

#### 3. StableGuard ç³»ç»Ÿ (`src/lib/stableguard/`)

##### ä¸»æ§åˆ¶å™¨ (`index.ts`)
```typescript
class StableGuard {
  // å¯ç”¨/ç¦ç”¨
  enable(): void
  disable(): void
  
  // æ›´æ–°é…ç½®
  updateConfig(updates: Partial<StableGuardConfig>): void
  
  // è·å–é…ç½®
  getConfig(): StableGuardConfig
  
  // æ‰§è¡Œé£é™©è¯„ä¼°
  async performRiskAssessment(): Promise<AssessmentResult>
  
  // è¯„ä¼°å•ç¬”äº¤æ˜“
  async evaluateTransaction(txParams: any): Promise<TransactionEvaluation | null>
  
  // è·å–äº‹ä»¶å†å²
  async getEventHistory(limit?: number): Promise<StableGuardEvent[]>
  
  // åŠ è½½é…ç½®
  static async loadConfig(): Promise<StableGuardConfig>
}

// è·å–å…¨å±€å®ä¾‹
async function getStableGuard(): Promise<StableGuard>
```

##### æ•°æ®æ„ŸçŸ¥æ™ºèƒ½ä½“ (`dataAgent.ts`)
```typescript
const dataAgent = {
  // é‡‡é›†æ•°æ®
  async collectData(stablecoinIds: string[]): Promise<DataAgentOutput>
  
  // è·å–ä»·æ ¼æ•°æ®
  async fetchPriceData(stablecoinId: string): Promise<RawDataSignal>
  
  // è·å–é“¾ä¸Šæ•°æ®ï¼ˆå ä½ï¼‰
  async fetchChainData(stablecoinId: string): Promise<any>
}
```

##### ç‰¹å¾å·¥ç¨‹æ™ºèƒ½ä½“ (`featureAgent.ts`)
```typescript
const featureAgent = {
  // è®¡ç®—ç‰¹å¾
  async calculateFeatures(signals: RawDataSignal[]): Promise<FeatureAgentOutput>
  
  // è®¡ç®—å•ä¸ªç¨³å®šå¸ç‰¹å¾
  calculateStablecoinFeatures(signals: RawDataSignal[]): FeatureSnapshot
  
  // è®¡ç®—åŠ¨æ€é˜ˆå€¼
  calculateDynamicThreshold(values: number[]): number
}
```

##### é£é™©ç ”åˆ¤æ™ºèƒ½ä½“ (`riskAgent.ts`)
```typescript
const riskAgent = {
  // åˆ†æé£é™©
  async analyzeRisk(snapshots: FeatureSnapshot[]): Promise<RiskAgentOutput>
  
  // åˆ†æå•ä¸ªç¨³å®šå¸
  analyzeStablecoin(snapshot: FeatureSnapshot): RiskReport
  
  // è®¡ç®—é£é™©è¯„åˆ†
  calculateRiskScore(snapshot: FeatureSnapshot): number
  
  // ç¡®å®šé£é™©ç­‰çº§
  determineRiskLevel(score: number): RiskLevel
}
```

##### ç­–ç•¥ç”Ÿæˆæ™ºèƒ½ä½“ (`strategyAgent.ts`)
```typescript
const strategyAgent = {
  // ç”Ÿæˆç­–ç•¥
  async generateStrategies(
    reports: RiskReport[],
    strictMode: string
  ): Promise<StrategyAgentOutput>
  
  // ä¸ºå•ä¸ªç¨³å®šå¸ç”Ÿæˆç­–ç•¥
  generateStrategyBundle(report: RiskReport, strictMode: string): StrategyBundle
}
```

##### éªŒè¯æ‰§è¡Œæ™ºèƒ½ä½“ (`executionAgent.ts`)
```typescript
const executionAgent = {
  // è¯„ä¼°äº¤æ˜“
  async evaluateTransaction(
    txParams: any,
    strategyBundle: StrategyBundle
  ): Promise<TransactionEvaluation>
  
  // è®°å½•æ‰§è¡Œ
  async recordExecution(record: ExecutionRecord): Promise<void>
  
  // è·å–æ‰§è¡Œå†å²
  async getExecutionHistory(limit?: number): Promise<ExecutionRecord[]>
}
```

#### 4. åå°æœåŠ¡ (`src/background/`)
Chrome Extension åå°æœåŠ¡ï¼Œå¤„ç†è·¨é¡µé¢é€šä¿¡å’ŒæŒä¹…åŒ–ä»»åŠ¡ã€‚

**åŠŸèƒ½**:
- ç®¡ç†é’±åŒ…çŠ¶æ€
- å¤„ç† dApp è¿æ¥è¯·æ±‚
- å®šæ—¶ä»»åŠ¡ï¼ˆStableGuard è¯„ä¼°ï¼‰
- æ¶ˆæ¯è·¯ç”±

#### 5. å†…å®¹è„šæœ¬ (`src/content/`)
æ³¨å…¥åˆ°ç½‘é¡µçš„è„šæœ¬ï¼Œæ¡¥æ¥ dApp å’Œé’±åŒ…ã€‚

**åŠŸèƒ½**:
- æ³¨å…¥ `window.ethereum` å¯¹è±¡
- è½¬å‘ dApp è¯·æ±‚åˆ°åå°
- ç›‘å¬é’±åŒ…äº‹ä»¶

#### 6. é¡µé¢æ³¨å…¥è„šæœ¬ (`src/inpage/`)
åœ¨é¡µé¢ä¸Šä¸‹æ–‡ä¸­è¿è¡Œçš„è„šæœ¬ï¼Œæä¾› Web3 Providerã€‚

**å®ç°çš„ API**:
- `ethereum.request()`: æ ‡å‡† RPC è¯·æ±‚
- `ethereum.isConnected()`: è¿æ¥çŠ¶æ€
- `ethereum.on()`: äº‹ä»¶ç›‘å¬
- `ethereum.removeListener()`: ç§»é™¤ç›‘å¬

**æ”¯æŒçš„æ–¹æ³•**:
- `eth_requestAccounts`: è¯·æ±‚è´¦æˆ·è®¿é—®
- `eth_accounts`: è·å–è´¦æˆ·åˆ—è¡¨
- `eth_chainId`: è·å–é“¾ ID
- `eth_sendTransaction`: å‘é€äº¤æ˜“
- `eth_signTransaction`: ç­¾åäº¤æ˜“
- `personal_sign`: ç­¾åæ¶ˆæ¯
- `eth_signTypedData_v4`: ç±»å‹åŒ–ç­¾å
- `wallet_switchEthereumChain`: åˆ‡æ¢ç½‘ç»œ
- `wallet_addEthereumChain`: æ·»åŠ ç½‘ç»œ

---

## ğŸ¨ UI/UX è®¾è®¡

### è®¾è®¡ç†å¿µ
**æ¸…å†·ã€ç®€æ´ã€ä¸“ä¸šçš„ Matrix ä¸»é¢˜**

### é…è‰²æ–¹æ¡ˆ
```javascript
colors: {
  matrix: {
    bg: '#0a0e14',              // æ·±è‰²èƒŒæ™¯
    surface: '#151a23',         // è¡¨é¢è‰²
    border: '#1f2937',          // è¾¹æ¡†è‰²
    text: {
      primary: '#e5e7eb',       // ä¸»è¦æ–‡æœ¬
      secondary: '#9ca3af',     // æ¬¡è¦æ–‡æœ¬
      muted: '#6b7280',         // å¼±åŒ–æ–‡æœ¬
    },
    accent: {
      primary: '#60a5fa',       // ä¸»è¦å¼ºè°ƒè‰²ï¼ˆè“ï¼‰
      secondary: '#34d399',     // æ¬¡è¦å¼ºè°ƒè‰²ï¼ˆç»¿ï¼‰
      danger: '#ef4444',        // å±é™©è‰²ï¼ˆçº¢ï¼‰
    },
  },
}
```

### è®¾è®¡ç‰¹ç‚¹
- **ç»ç’ƒæ€æ•ˆæœ**: é€æ˜åº¦å’ŒèƒŒæ™¯æ¨¡ç³Šè¥é€ å±‚æ¬¡æ„Ÿ
- **æµç•…åŠ¨ç”»**: å¹³æ»‘çš„è¿‡æ¸¡å’Œæ‚¬åœæ•ˆæœ
- **æ— è¾¹ç•Œèåˆ**: ç»„ä»¶è‡ªç„¶èåˆï¼Œé¿å…ç”Ÿç¡¬è¾¹æ¡†
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **æ— éšœç¢æ”¯æŒ**: é”®ç›˜å¯¼èˆªã€å±å¹•é˜…è¯»å™¨å‹å¥½

### åŠ¨ç”»é…ç½®
```javascript
animation: {
  'slide-in': 'slideIn 0.3s ease-out',
  'fade-in': 'fadeIn 0.2s ease-out',
  'scale-in': 'scaleIn 0.2s ease-out',
}
```

---

## ğŸ”’ å®‰å…¨æœºåˆ¶

### 1. åŠ å¯†å­˜å‚¨
- **ç®—æ³•**: AES-GCM 256 ä½
- **å¯†é’¥æ´¾ç”Ÿ**: PBKDF2ï¼Œ100,000 æ¬¡è¿­ä»£
- **ç›å€¼**: éšæœºç”Ÿæˆï¼Œ16 å­—èŠ‚
- **åˆå§‹åŒ–å‘é‡**: éšæœºç”Ÿæˆï¼Œ12 å­—èŠ‚

### 2. å¯†ç ç®¡ç†
- **æœ€å°é•¿åº¦**: 8 ä½
- **å¼ºåº¦éªŒè¯**: å»ºè®®åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç¬¦å·
- **å“ˆå¸Œå­˜å‚¨**: SHA-256 å“ˆå¸ŒéªŒè¯

### 3. ç§é’¥ä¿æŠ¤
- **æœ¬åœ°å­˜å‚¨**: ç§é’¥æ°¸ä¸ç¦»å¼€æœ¬åœ°ç¯å¢ƒ
- **åŠ å¯†å­˜å‚¨**: åŠ©è®°è¯å’Œç§é’¥åŠ å¯†å­˜å‚¨
- **å†…å­˜æ¸…ç†**: ä½¿ç”¨åç«‹å³æ¸…é™¤æ•æ„Ÿæ•°æ®

### 4. äº¤æ˜“å®‰å…¨
- **ç”¨æˆ·ç¡®è®¤**: æ‰€æœ‰äº¤æ˜“éœ€è¦ç”¨æˆ·æ˜ç¡®ç¡®è®¤
- **è¯¦ç»†å±•ç¤º**: æ˜¾ç¤ºå®Œæ•´äº¤æ˜“ä¿¡æ¯
- **Gas ä¼°ç®—**: é˜²æ­¢ Gas ä¸è¶³å¯¼è‡´å¤±è´¥
- **StableGuard**: ç¨³å®šå¸äº¤æ˜“é£é™©è¯„ä¼°

### 5. dApp è¿æ¥å®‰å…¨
- **æƒé™ç®¡ç†**: ç”¨æˆ·æ§åˆ¶ dApp è®¿é—®æƒé™
- **è¿æ¥ç¡®è®¤**: é¦–æ¬¡è¿æ¥éœ€è¦ç”¨æˆ·æ‰¹å‡†
- **åŸŸåéªŒè¯**: æ˜¾ç¤ºè¯·æ±‚æ¥æºåŸŸå

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### æ„å»ºæ€§èƒ½
- **æ„å»ºæ—¶é—´**: ~3.5 ç§’
- **æ‰“åŒ…å¤§å°**: ~750KB
- **ä»£ç åˆ†å‰²**: æŒ‰éœ€åŠ è½½

### è¿è¡Œæ€§èƒ½
- **å¯åŠ¨æ—¶é—´**: < 500ms
- **é¡µé¢åˆ‡æ¢**: < 100ms
- **äº¤æ˜“ç­¾å**: < 200ms
- **ä½™é¢æŸ¥è¯¢**: < 1 ç§’

### StableGuard æ€§èƒ½
- **å®Œæ•´è¯„ä¼°**: < 2 ç§’
- **æ•°æ®é‡‡é›†**: < 500msï¼ˆå•ä¸ªç¨³å®šå¸ï¼‰
- **ç‰¹å¾è®¡ç®—**: < 100ms
- **é£é™©åˆ†æ**: < 50ms
- **ç­–ç•¥ç”Ÿæˆ**: < 50ms

---

## ğŸš€ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚
- Node.js >= 18.0.0
- npm >= 9.0.0
- Chrome/Edge æµè§ˆå™¨

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¼€å‘æ¨¡å¼
```bash
npm run dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

### ç±»å‹æ£€æŸ¥
```bash
npm run type-check
```

### ç‰ˆæœ¬å‘å¸ƒ
```bash
# è¡¥ä¸ç‰ˆæœ¬ (1.0.0 -> 1.0.1)
npm run release:patch

# æ¬¡è¦ç‰ˆæœ¬ (1.0.0 -> 1.1.0)
npm run release:minor

# ä¸»è¦ç‰ˆæœ¬ (1.0.0 -> 2.0.0)
npm run release:major
```

### åŠ è½½åˆ°æµè§ˆå™¨
1. æ‰“å¼€ `chrome://extensions/`
2. å¼€å¯"å¼€å‘è€…æ¨¡å¼"
3. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
4. é€‰æ‹© `dist/` ç›®å½•

---

## ğŸ§ª æµ‹è¯•åœºæ™¯

### é’±åŒ…åŠŸèƒ½æµ‹è¯•
1. **åˆ›å»ºé’±åŒ…**: ç”ŸæˆåŠ©è®°è¯ï¼Œè®¾ç½®å¯†ç 
2. **å¯¼å…¥é’±åŒ…**: ä½¿ç”¨åŠ©è®°è¯å¯¼å…¥
3. **å¤šè´¦æˆ·**: æ·»åŠ è´¦æˆ·ï¼Œåˆ‡æ¢è´¦æˆ·
4. **é”å®š/è§£é”**: é”å®šé’±åŒ…ï¼Œå¯†ç è§£é”

### äº¤æ˜“åŠŸèƒ½æµ‹è¯•
1. **å‘é€ ETH**: è½¬è´¦åŸç”Ÿä»£å¸
2. **å‘é€ä»£å¸**: è½¬è´¦ ERC-20 ä»£å¸
3. **Gas ä¼°ç®—**: éªŒè¯ Gas è´¹è®¡ç®—
4. **äº¤æ˜“å†å²**: æŸ¥çœ‹äº¤æ˜“è®°å½•

### Swap åŠŸèƒ½æµ‹è¯•
1. **è·å–æŠ¥ä»·**: æŸ¥è¯¢å…‘æ¢ä»·æ ¼
2. **ä»£å¸æˆæƒ**: æˆæƒä»£å¸ä½¿ç”¨
3. **æ‰§è¡Œå…‘æ¢**: å®Œæˆä»£å¸å…‘æ¢
4. **å†å²è®°å½•**: æŸ¥çœ‹ Swap è®°å½•

### StableGuard æµ‹è¯•
1. **é£é™©è¯„ä¼°**: æ‰‹åŠ¨è§¦å‘è¯„ä¼°
2. **äº¤æ˜“æ‹¦æˆª**: æµ‹è¯•é«˜é£é™©äº¤æ˜“æ‹¦æˆª
3. **ä»ªè¡¨æ¿**: æŸ¥çœ‹é£é™©æŠ¥å‘Š
4. **è®¾ç½®**: åˆ‡æ¢é£æ§æ¨¡å¼

### dApp é›†æˆæµ‹è¯•
1. **è¿æ¥è¯·æ±‚**: dApp è¯·æ±‚è¿æ¥
2. **è´¦æˆ·è®¿é—®**: è·å–è´¦æˆ·åœ°å€
3. **å‘é€äº¤æ˜“**: dApp å‘èµ·äº¤æ˜“
4. **æ¶ˆæ¯ç­¾å**: ç­¾åæ¶ˆæ¯
5. **ç½‘ç»œåˆ‡æ¢**: åˆ‡æ¢ç½‘ç»œ

---

## ğŸ“ API æ–‡æ¡£

### Chrome Extension API

#### Storage API
```javascript
// å­˜å‚¨æ•°æ®
chrome.storage.local.set({ key: value })

// è¯»å–æ•°æ®
chrome.storage.local.get('key')

// åˆ é™¤æ•°æ®
chrome.storage.local.remove('key')

// æ¸…ç©ºæ•°æ®
chrome.storage.local.clear()
```

#### Runtime API
```javascript
// å‘é€æ¶ˆæ¯
chrome.runtime.sendMessage({ type: 'ACTION', data: {} })

// ç›‘å¬æ¶ˆæ¯
chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {
  // å¤„ç†æ¶ˆæ¯
})
```

### Web3 Provider API

#### è¯·æ±‚è´¦æˆ·
```javascript
await window.ethereum.request({ method: 'eth_requestAccounts' })
```

#### è·å–é“¾ ID
```javascript
await window.ethereum.request({ method: 'eth_chainId' })
```

#### å‘é€äº¤æ˜“
```javascript
await window.ethereum.request({
  method: 'eth_sendTransaction',
  params: [{
    from: '0x...',
    to: '0x...',
    value: '0x...',
    data: '0x...'
  }]
})
```

#### ç­¾åæ¶ˆæ¯
```javascript
await window.ethereum.request({
  method: 'personal_sign',
  params: [message, address]
})
```

#### ç›‘å¬äº‹ä»¶
```javascript
// è´¦æˆ·å˜åŒ–
window.ethereum.on('accountsChanged', (accounts) => {
  console.log('Accounts changed:', accounts)
})

// é“¾å˜åŒ–
window.ethereum.on('chainChanged', (chainId) => {
  console.log('Chain changed:', chainId)
})

// è¿æ¥
window.ethereum.on('connect', (connectInfo) => {
  console.log('Connected:', connectInfo)
})

// æ–­å¼€
window.ethereum.on('disconnect', (error) => {
  console.log('Disconnected:', error)
})
```

---

## ğŸ”§ é…ç½®æ–‡ä»¶

### manifest.json
```json
{
  "manifest_version": 3,
  "name": "MatrixLabs Wallet",
  "version": "1.0.0",
  "permissions": [
    "storage",
    "unlimitedStorage",
    "activeTab",
    "notifications",
    "alarms"
  ],
  "host_permissions": [
    "http://*/*",
    "https://*/*"
  ],
  "background": {
    "service_worker": "background.js"
  },
  "action": {
    "default_popup": "index.html"
  },
  "content_scripts": [{
    "matches": ["<all_urls>"],
    "js": ["content.js"],
    "run_at": "document_start"
  }],
  "web_accessible_resources": [{
    "resources": ["inpage.js"],
    "matches": ["<all_urls>"]
  }]
}
```

### vite.config.ts
```typescript
export default defineConfig({
  plugins: [react()],
  build: {
    rollupOptions: {
      input: {
        popup: 'index.html',
        background: 'src/background/index.ts',
        content: 'src/content/index.ts',
        inpage: 'src/inpage/index.ts',
      }
    }
  }
})
```

---

## ğŸŒŸ ç‰¹è‰²åŠŸèƒ½

### 1. StableGuard å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ
- **åˆ›æ–°æ¶æ„**: äº”æ™ºèƒ½ä½“ååŒå·¥ä½œ
- **å®æ—¶ç›‘æ§**: æ¯ 5 åˆ†é’Ÿè‡ªåŠ¨è¯„ä¼°
- **æ™ºèƒ½å†³ç­–**: åŸºäºé£é™©ç­‰çº§è‡ªåŠ¨é‡‡å–æªæ–½
- **ç”¨æˆ·å¯æ§**: ä¸‰ç§é£æ§æ¨¡å¼å¯é€‰

### 2. å®Œæ•´çš„äº¤æ˜“å†å²
- **è‡ªåŠ¨è®°å½•**: æ‰€æœ‰äº¤æ˜“è‡ªåŠ¨ä¿å­˜
- **å®æ—¶æ›´æ–°**: çŠ¶æ€è‡ªåŠ¨åŒæ­¥
- **å¤šç»´ç­›é€‰**: æŒ‰ç±»å‹ã€çŠ¶æ€ã€é“¾ç­›é€‰
é€‰**: æŒ‰ç±»å‹ã€çŠ¶æ€ã€é“¾ç­›é€‰
- **è¯¦æƒ…æŸ¥çœ‹**: åŒºå—æµè§ˆå™¨è·³è½¬

### 3. å¤šé“¾ä»£å¸æ”¯æŒ
- **åŸç”Ÿä»£å¸**: æ¯æ¡é“¾çš„åŸç”Ÿä»£å¸
- **ERC-20 ä»£å¸**: ä¸»æµç¨³å®šå¸å’Œä»£å¸
- **è‡ªåŠ¨å‘ç°**: ä»£å¸ä½™é¢è‡ªåŠ¨æŸ¥è¯¢
- **ä»·æ ¼æ˜¾ç¤º**: å®æ—¶ä»·æ ¼ï¼ˆæœªæ¥åŠŸèƒ½ï¼‰

### 4. ç°ä»£åŒ– UI/UX
- **Matrix ä¸»é¢˜**: æ·±è‰²èƒŒæ™¯ + ä½é¥±å’Œåº¦è“ç»¿è‰²è°ƒ
- **ç»ç’ƒæ€æ•ˆæœ**: é€æ˜åº¦å’ŒèƒŒæ™¯æ¨¡ç³Š
- **æµç•…åŠ¨ç”»**: å¹³æ»‘è¿‡æ¸¡å’Œæ‚¬åœæ•ˆæœ
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•

---

## ğŸ“ˆ é¡¹ç›®ç»Ÿè®¡

```
ğŸ“ æ€»æ–‡ä»¶æ•°:        50+
ğŸ“ ä»£ç è¡Œæ•°:        8,000+
ğŸ¨ ç»„ä»¶æ•°é‡:        25+
ğŸ”§ æœåŠ¡æ¨¡å—:        12+
ğŸŒ æ”¯æŒç½‘ç»œ:        12+
ğŸ” å®‰å…¨ç‰¹æ€§:        5+
âš¡ æ„å»ºæ—¶é—´:        ~3.5s
ğŸ“¦ æ‰“åŒ…å¤§å°:        ~750KB
```

---

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸè®¡åˆ’ (v1.1.0)
- NFT å±•ç¤ºå’Œç®¡ç†
- åœ°å€ç°¿åŠŸèƒ½
- äº¤æ˜“åŠ é€Ÿ/å–æ¶ˆ
- ç¡¬ä»¶é’±åŒ…æ”¯æŒï¼ˆLedger/Trezorï¼‰
- å¤šè¯­è¨€æ”¯æŒï¼ˆè‹±æ–‡ã€ä¸­æ–‡ï¼‰

### ä¸­æœŸè®¡åˆ’ (v1.5.0)
- Layer 2 åŸç”Ÿæ”¯æŒ
- zkSyncã€StarkNet é›†æˆ
- DEX èšåˆå™¨
- æ‰¹é‡äº¤æ˜“
- ç¤¾äº¤æ¢å¤

### é•¿æœŸè®¡åˆ’ (v2.0.0)
- è´¦æˆ·æŠ½è±¡ï¼ˆERC-4337ï¼‰
- Gas è´¹ä¼˜åŒ–å»ºè®®
- æŠ•èµ„ç»„åˆåˆ†æ
- ç§»åŠ¨ç«¯é€‚é…
- è·¨å¹³å°æ”¯æŒ

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¦‚ä½•è´¡çŒ®
1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ
- éµå¾ª TypeScript æœ€ä½³å®è·µ
- ä½¿ç”¨ ESLint å’Œ Prettier
- ç¼–å†™æ¸…æ™°çš„æ³¨é‡Š
- æ·»åŠ å¿…è¦çš„æµ‹è¯•

---

## ğŸ“š å­¦ä¹ èµ„æº

### åŒºå—é“¾åŸºç¡€
- [Ethereum å®˜æ–¹æ–‡æ¡£](https://ethereum.org/developers)
- [ethers.js æ–‡æ¡£](https://docs.ethers.org/)
- [EIP-1193 æ ‡å‡†](https://eips.ethereum.org/EIPS/eip-1193)

### Chrome Extension
- [Chrome Extension å®˜æ–¹æ–‡æ¡£](https://developer.chrome.com/docs/extensions/)
- [Manifest V3 è¿ç§»æŒ‡å—](https://developer.chrome.com/docs/extensions/mv3/intro/)

### React å’Œ TypeScript
- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/)
- [TailwindCSS æ–‡æ¡£](https://tailwindcss.com/)

---

## âš ï¸ å…è´£å£°æ˜

æœ¬é’±åŒ…æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

ä½¿ç”¨å‰è¯·ç¡®ä¿ç†è§£åŒºå—é“¾å’ŒåŠ å¯†è´§å¸çš„é£é™©ã€‚

å¼€å‘è€…ä¸å¯¹ä»»ä½•èµ„äº§æŸå¤±æ‰¿æ‹…è´£ä»»ã€‚

è¯·åŠ¡å¿…å¤‡ä»½åŠ©è®°è¯å¹¶å¦¥å–„ä¿ç®¡ï¼

---

## ğŸ“ è”ç³»æ–¹å¼

- **GitHub**: [MatrixLabs Wallet](https://github.com/your-username/matrixlabs-wallet)
- **Email**: contact@matrixlabs.io
- **Discord**: [åŠ å…¥ç¤¾åŒº](https://discord.gg/matrixlabs)

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT License** å¼€æºåè®®ã€‚

è¯¦è§ [LICENSE](../LICENSE) æ–‡ä»¶ã€‚

---

<div align="center">

**Made with â¤ï¸ by MatrixLabs Team**

Copyright Â© 2024 MatrixLabs. All rights reserved.

</div>
